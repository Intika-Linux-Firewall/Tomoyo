<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<TITLE>TOMOYO Linux : tomoyo-loadpolicy man page</TITLE>
</head>

<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!-- .\" -->
<!-- .\" Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011 NTT DATA Corporation. -->
<!-- .\" -->
<!-- .\" You may distribute under the terms of the GNU General Public -->
<!-- .\" License as specified in the file COPYING.tomoyo that comes with the -->
<!-- .\" tomoyo-tools source tarball. -->
<!-- .\" -->
<!-- .TH "TOMOYO-LOADPOLICY" "8" "February 2011" "tomoyo-loadpolicy 2.3.0" "System Administration Utilities" -->
<CENTER>
<H1><HR><I>Manual Reference Pages &nbsp;-&nbsp;</I><NOBR>TOMOYO-LOADPOLICY (8)</NOBR><HR></H1>
</CENTER>
<!-- .SH "NAME" -->
<A name=>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
tomoyo-loadpolicy - load TOMOYO Linux policy manually
<!-- .SH "SYNOPSIS" -->
</BLOCKQUOTE>
<A name=1>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<!-- .B tomoyo-loadpolicy [options] -->
<B>tomoyo-loadpolicy [options]</B> <!-- .sp -->
<P>
<!-- .B tomoyo-loadpolicy [options] <remote_ip:remote_port> -->
<B>tomoyo-loadpolicy [options] &lt;remote_ip:remote_port&gt;</B> <!-- .SH "DESCRIPTION" -->
</BLOCKQUOTE>
<A name=>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
This program reads TOMOYO Linux policy from standard input and loads it into the kernel.
<!-- .SH "OPTIONS" -->
</BLOCKQUOTE>
<A name=>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<B>e</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Load exception policy. ( policy_dir/exception_policy.conf =&gt; /sys/kernel/security/tomoyo/exception_policy )
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>d</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Load domain policy. ( policy_dir/domain_policy.conf =&gt; /sys/kernel/security/tomoyo/domain_policy )
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>a</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Load exception policy and domain policy.
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>p</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Load profile. ( policy_dir/profile.conf =&gt; /sys/kernel/security/tomoyo/profile )
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>m</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Load manager. ( policy_dir/manager.conf =&gt; /sys/kernel/security/tomoyo/manager )
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>u</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Load meminfo. ( policy_dir/meminfo.conf =&gt; /sys/kernel/security/tomoyo/meminfo )
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>f</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Erase on-memory policy before loading on-disk policy. If not specified, on-disk policy is appended to on-memory policy.
This option is valid for "eda" options.
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>-</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Read policy from stdin. Specify only one of "edpmu" option when you use this option.
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<B>&lt;remote_ip:remote_port&gt;</B>
<!-- .RS 4 -->
<BLOCKQUOTE>
Instead of writing to local kernel memory, write to an agent waiting at port <I>&lt;remote_port&gt;</I> on IP address <I>&lt;remote_ip&gt;</I>.
<!-- .RE -->
</BLOCKQUOTE>
<!-- .PP -->
<P>
<!-- .SH "EXAMPLES" -->
</BLOCKQUOTE>
<A name=>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<!-- .B Add "allow_read /proc/meminfo" to exception policy: -->
<B>Add allow_read /proc/meminfo to exception policy:</B> <!-- .nf -->
<PRE>
echo "allow_read /proc/meminfo" | tomoyo-loadpolicy -e
<!-- .fi -->
</PRE>
<!-- .PP -->
<P>
<!-- .B Remove "allow_read /proc/meminfo" from exception policy: -->
<B>Remove allow_read /proc/meminfo from exception policy:</B> <!-- .nf -->
<PRE>
echo "delete allow_read /proc/meminfo" | tomoyo-loadpolicy -e
<!-- .fi -->
</PRE>
<!-- .PP -->
<P>
<!-- .B Add "allow_execute /sbin/init" to "<kernel>" domain: -->
<B>Add allow_execute /sbin/init to &lt;kernel&gt; domain:</B> <!-- .nf -->
<PRE>
( echo "&lt;kernel&gt;"; echo "allow_execute /sbin/init" ) | tomoyo-loadpolicy -d
<!-- .fi -->
</PRE>
<!-- .PP -->
<P>
<!-- .B Replace currently loaded domain policy with policy_dir/domain_policy.conf: -->
<B>Replace currently loaded domain policy with policy_dir/domain_policy.conf:</B> <!-- .nf -->
<PRE>
tomoyo-loadpolicy df
<!-- .fi -->
</PRE>
<!-- .PP -->
<P>
<!-- .B Append policy_dir/domain_policy.conf into currently loaded domain policy: -->
<B>Append policy_dir/domain_policy.conf into currently loaded domain policy:</B> <!-- .nf -->
<PRE>
tomoyo-loadpolicy d
<!-- .fi -->
</PRE>
<!-- .PP -->
<P>
<!-- .B Append /etc/tomoyo -->
<B>Append /etc/tomoyo</B>
<!-- .PP -->
<PRE>
tomoyo-loadpolicy d /etc/tomoyo/192.168.1.1/ 192.168.1.1:10000
</PRE>
<!-- .IP -->
<P>
<!-- .B Append \&"/etc/tomoyo/192.168.1.1/domain_policy.conf to 192.168.1.1:10000: -->
<B>Append /etc/tomoyo/192.168.1.1/domain_policy.conf to 192.168.1.1:10000:</B> <!-- .nf -->
<PRE>
tomoyo-loadpolicy -d 192.168.1.1:10000 &lt; /etc/tomoyo/192.168.1.1/domain_policy.conf
<!-- .fi -->
</PRE>
<!-- .SH "NOTES" -->
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=>

     <H3>NOTES</H3>

</A>
<BLOCKQUOTE>
Before this program can be invoked, it must be registered in <I>/sys/kernel/security/tomoyo/manager</I>.
<!-- .SH "BUGS" -->
</BLOCKQUOTE>
<A name=>

     <H3>BUGS</H3>

</A>
<BLOCKQUOTE>
If there are any bugs, send an email with as much detail as possible to
<A HREF="mailto:tomoyo-users-en@lists.sourceforge.jp">tomoyo-users-en@lists.sourceforge.jp</A>
<!-- .SH "AUTHORS" -->
</BLOCKQUOTE>
<A name=>

     <H3>AUTHORS</H3>

</A>
<BLOCKQUOTE>
<!-- .sp -->
Main authors:
<BLOCKQUOTE>
Tetsuo Handa &lt;penguin-kernel AT I-love.SAKURA.ne.jp&gt;
</BLOCKQUOTE>
</BLOCKQUOTE>
<BLOCKQUOTE>
Other contributers:
<BLOCKQUOTE>
<P>Jamie Nguyen &lt;jamie AT tomoyolinux.co.uk&gt;</P>
<P>Man pages, documentation and website.</P>
</BLOCKQUOTE>
</BLOCKQUOTE>
<A name=>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<!-- .PP -->
<P>
<B>tomoyo-savepolicy</B>(8), <B>tomoyo-editpolicy</B>(8), <B>tomoyo-editpolicy-agent</B>(8), <B>tomoyo-init</B>(8)
<!-- .sp -->
<P>
See <A HREF="http://tomoyo.sourceforge.jp/">http://tomoyo.sourceforge.jp/</A> for more information.
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>tomoyo-loadpolicy 2.3.0</I></TD> <TD width=33% align=center>TOMOYO-LOADPOLICY (8)</TD> <TD align=right width=33%><I>February 2011</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/users/rolf/download/manServer.shtml">manServer 1.07+ma1</A> from tomoyo-loadpolicy using man macros.</FONT>
</BODY></HTML>
