<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<TITLE>TOMOYO Linux : ccs-loadpolicy man page</TITLE>
</head>
<HTML><HEAD>
<TITLE>ccs-loadpolicy.8</TITLE>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!-- .\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.38.4. -->
<!-- .TH CCS-LOADPOLICY "8" "February 2011" "ccs-loadpolicy 1.8.0" "System Administration Utilities" -->
<CENTER>
<H1><HR><I>Manual Reference Pages &nbsp;-&nbsp;</I><NOBR>CCS-LOADPOLICY (8)</NOBR><HR></H1>
</CENTER>
<!-- .SH NAME -->
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
ccs-loadpolicy - Load TOMOYO Linux&#146;s policy manually
<!-- .SH SYNOPSIS -->
</BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Examples</A><BR>
<A HREF=#4>Notes</A><BR>
<A HREF=#5>Authors</A><BR>
<A HREF=#6>Copyright</A><BR>
<A HREF=#7>See also</A><BR>
</BLOCKQUOTE>
<A name=1>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<!-- .B ccs-loadpolicy -->
<B>ccs-loadpolicy</B> <I>{-e|-ef|-d|-df|-m|-p|-s} </I>[<I>remote_ip:remote_port</I>]
<!-- .SH DESCRIPTION -->
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
This program loads TOMOYO Linux&#146;s policy from standard input into kernel.
<!-- .PP -->
<P>
<B>-e</B>  : Append to /proc/ccs/exception_policy .
<!-- .PP -->
<P>
<B>-ef</B> : Overwrite /proc/ccs/exception_policy .
<!-- .PP -->
<P>
<B>-d</B>  : Append to /proc/ccs/domain_policy .
<!-- .PP -->
<P>
<B>-df</B> : Overwrite /proc/ccs/domain_policy .
<!-- .PP -->
<P>
<B>-m</B>  : Append to /proc/ccs/manager .
<!-- .PP -->
<P>
<B>-p</B>  : Append to /proc/ccs/profile .
<!-- .PP -->
<P>
<B>-s</B>  : Append to /proc/ccs/stat .
<!-- .PP -->
<P>
remote_ip:remote_port : Write to ccs-editpolicy-agent listening at remote_ip:remote_port rather than /proc/ccs/ directory.
<!-- .SH EXAMPLES -->
</BLOCKQUOTE>
<A name=3>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
# echo "acl_group 0 file read /proc/meminfo" | ccs-loadpolicy <B>-e</B>
<!-- .IP -->
<TABLE cellpadding=3><!-- tsb: # echo "acl_group 0 file read /proc/meminfo" | ccs-loadpolicy <B>-e</B>
 -->
<TR></TR><TR></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Add "file read /proc/meminfo" to acl_group 0.
<!-- .PP -->
</TD></TR>
<!-- Found tag IP -->
<TR><TD colspan=2>
# echo "delete acl_group 0 file read /proc/meminfo" | ccs-loadpolicy <B>-e</B>
<!-- .IP -->
</TD></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Remove "file read /proc/meminfo" from acl_group 0.
<!-- .PP -->
</TD></TR>
<!-- Found tag IP -->
<TR><TD colspan=2>
# ( echo "&lt;kernel&gt;"; echo "file execute /sbin/init" ) | ccs-loadpolicy <B>-d</B>
<!-- .IP -->
</TD></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Add "file execute /sbin/init" to "&lt;kernel&gt;" domain.
<!-- .PP -->
</TD></TR>
<!-- Found tag IP -->
<TR><TD colspan=2>
# ccs-loadpolicy <B>-df</B> &lt; /etc/ccs/domain_policy.conf
<!-- .IP -->
</TD></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Replace currently loaded domain policy with /etc/ccs/domain_policy.conf .
<!-- .PP -->
</TD></TR>
<!-- Found tag IP -->
<TR><TD colspan=2>
# ccs-loadpolicy <B>-d</B> &lt; /etc/ccs/domain_policy.conf
<!-- .IP -->
</TD></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Append /etc/ccs/domain_policy.conf into currently loaded domain policy.
<!-- .PP -->
</TD></TR>
<!-- Found tag IP -->
<TR><TD colspan=2>
# ccs-loadpolicy <B>-d</B> 192.168.1.1:10000 &lt; /etc/ccs/192.168.1.1/domain_policy.conf
<!-- .IP -->
</TD></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Append /etc/ccs/192.168.1.1/domain_policy.conf to 192.168.11.1:10000 .
<!-- .PP -->
</TD></TR>
<!-- Found tag IP -->
<TR><TD colspan=2>
# echo "delete /usr/sbin/ccs-queryd" | ccs-loadpolicy <B>-m</B>
<!-- .IP -->
</TD></TR>
<TR valign=top><TD width=6%>

</TD><TD>
Remove "/usr/sbin/ccs-queryd" from /proc/ccs/manager
<!-- .SH NOTES -->
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=4>

     <H3>NOTES</H3>

</A>
<BLOCKQUOTE>
<P>
 You need to register either path to this program ( /usr/sbin/ccs-loadpolicy ) or a domain for this program in /proc/ccs/manager before invoking this program.
<!-- .SH AUTHORS -->
</BLOCKQUOTE>
<A name=5>

     <H3>AUTHORS</H3>

</A>
<BLOCKQUOTE>
<P>
 penguin-kernel _at_ I-love.SAKURA.ne.jp
<!-- .SH COPYRIGHT -->
</BLOCKQUOTE>
<A name=6>

     <H3>COPYRIGHT</H3>

</A>
<BLOCKQUOTE>
Copyright &#169; 2005-2010 NTT DATA CORPORATION.
<!-- .PP -->
<P>
This program is free software; you may redistribute it under the terms of
the GNU General Public License. This program has absolutely no warranty.
<!-- .SH "SEE ALSO" -->
</BLOCKQUOTE>
<A name=7>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<P>
 ccs-init (8)
<BR>
 ccs-editpolicy-agent (8)
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>ccs-loadpolicy 1.8.0</I></TD> <TD width=33% align=center>CCS-LOADPOLICY (8)</TD> <TD align=right width=33%><I>February 2011</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/users/rolf/download/manServer.shtml">manServer 1.07+ma1</A> from ccs-loadpolicy.8 using man macros.</FONT>
</BODY></HTML>
